(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{64:function(e,t,c){},73:function(e,t,c){"use strict";c.r(t);c(59);var n=c(0),a=c.n(n),s=c(22),r=c.n(s),i=(c(64),c(3)),o=c(15),j=c(8),l=c(5),b=c(9),d=c(54),u=Object(d.createAuthProvider)({getAccessToken:"access_token",onUpdateToken:function(e){return fetch("".concat("http://localhost:5000","/refresh"),{method:"POST",body:e.refresh_token}).then((function(e){return e.json()}))}}),O=u.useAuth,h=(u.authFetch,u.login),x=u.logout,p=c(80),m=c(1),f=function(e){var t=e.showIt,c=e.columns,a=O(),s=Object(i.a)(a,1)[0],r=Object(n.useState)(""),j=Object(i.a)(r,2),d=j[0],u=j[1];return Object(n.useEffect)((function(){if(s){var e=localStorage.getItem("REACT_TOKEN_AUTH_KEY");fetch("".concat("http://localhost:5000","/getUser"),{method:"GET",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(JSON.parse(e))}}).then(function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var c,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:c=e.sent,t.ok?u(c.uname):(n=c.hasOwnProperty("message")?c.message:c.msg,alert("ERROR ".concat(t.status,":  ").concat(n)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}}),[s]),Object(m.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(m.jsxs)(o.b,{className:"navbar-brand",to:"/",children:[Object(m.jsx)(p.a,{}),"  DB CRUD Tool"]}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(m.jsxs)("ul",{className:"navbar-nav",children:[t&&Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.b,{className:"nav-link",to:"/it",state:{columns:c},children:"Table"})}),s?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.b,{className:"nav-link",to:"/opslog",children:"Operations Log"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.b,{className:"nav-link",to:"/perms",children:"Permissions"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsxs)("a",{className:"nav-link",children:["Hi, ",d,"!"]})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("a",{className:"nav-link active",href:"#",onClick:function(){x()},children:"Log Out"})})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.b,{className:"nav-link",to:"/login",children:"Log In"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.b,{className:"nav-link",to:"/signup",children:"Sign Up"})})]})]})})]})},g=c(2),v=c(24),y="http://localhost:5000",w=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),o=r[0],j=r[1],d=Object(n.useState)(!1),u=Object(i.a)(d,2),O=u[0],h=u[1],x=Object(n.useState)(""),p=Object(i.a)(x,2),f=p[0],w=p[1],S=localStorage.getItem("REACT_TOKEN_AUTH_KEY"),k=function(){var e=Object(b.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y,"/users"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(JSON.parse(S))}});case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,t.ok?(c.forEach((function(e){e.editing=0})),a(c)):(j(!1),w("ERROR ".concat(t.status,":  ").concat(c.message)),h(!0));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){k()}),[]);var N=function(e,t){return function(){a(c.map((function(c){return c.id===e&&1===c.editing?Object(g.a)(Object(g.a)({},c),{},{permission:c.permission^t}):c})))}},C=function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var n,s,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==c.find((function(e){return e.id===t})).editing){e.next=5;break}a(c.map((function(e){return e.id===t?Object(g.a)(Object(g.a)({},e),{},{editing:1}):e}))),e.next=13;break;case 5:return n=c.find((function(e){return e.id===t})).permission,e.next=8,fetch("".concat(y,"/perms/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(JSON.parse(S))},body:JSON.stringify({permission:n})});case 8:return s=e.sent,e.next=11,s.json();case 11:r=e.sent,s.ok?(a(c.map((function(e){return e.id===t?Object(g.a)(Object(g.a)({},e),{},{editing:0}):e}))),j(!0)):(j(!1),w("ERROR ".concat(s.status,":  ").concat(r.message)),h(!0));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[o&&Object(m.jsx)(v.a,{variant:"info",onClose:function(){return j(!1)},dismissible:!0,children:Object(m.jsx)("p",{children:"Successfully Updated!"})}),O&&Object(m.jsx)(v.a,{variant:"danger",onClose:function(){return h(!1)},dismissible:!0,children:Object(m.jsx)("p",{children:f})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("table",{className:"table table-striped",children:[Object(m.jsxs)("thead",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{rowspan:"2",style:{verticalAlign:"middle",fontWeight:"bold"},children:"User Name"}),Object(m.jsx)("td",{rowspan:"2",style:{verticalAlign:"middle",fontWeight:"bold"},children:"Email"}),Object(m.jsx)("th",{colspan:"5",style:{textAlign:"center",fontWeight:"bold"},children:"Permissions"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Read"}),Object(m.jsx)("th",{children:"Create"}),Object(m.jsx)("th",{children:"Update"}),Object(m.jsx)("th",{children:"Delete"}),Object(m.jsx)("th",{children:"Admin"})]})]}),Object(m.jsx)("tbody",{children:c.map((function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.username}),Object(m.jsx)("td",{children:e.email}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{checked:1&e.permission,onChange:N(e.id,1),type:"checkbox"})}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{checked:2&e.permission,onChange:N(e.id,2),type:"checkbox"})}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{checked:4&e.permission,onChange:N(e.id,4),type:"checkbox"})}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{checked:8&e.permission,onChange:N(e.id,8),type:"checkbox"})}),Object(m.jsx)("td",{children:Object(m.jsx)("input",{checked:128&e.permission,onChange:N(e.id,128),type:"checkbox"})}),Object(m.jsx)("td",{children:Object(m.jsx)("button",{className:"btn btn-secondary btn-sm btn-block",onClick:function(t){return C(e.id)},children:1===e.editing?"Update":"Edit"})})]},e.id)}))})]})})})]})},S=c(12),k=c(82),N=c(56),C="http://localhost:5000",R=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),o=r[0],d=r[1],u=Object(n.useState)(""),O=Object(i.a)(u,2),h=O[0],x=O[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),y=f[0],w=f[1],R=Object(n.useState)(!1),E=Object(i.a)(R,2),T=E[0],_=E[1],A=Object(j.e)(),P=Object(n.useState)([]),L=Object(i.a)(P,2),U=L[0],G=L[1],J=Object(n.useState)([]),q=Object(i.a)(J,2),I=q[0],B=q[1],D=localStorage.getItem("REACT_TOKEN_AUTH_KEY"),Y=Object(n.useState)({}),K=Object(i.a)(Y,2),z=K[0],F=K[1],M=function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var n,s,r,i,o,j;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),T){e.next=11;break}return e.next=4,fetch("".concat(C,"/items"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(JSON.parse(D))},body:JSON.stringify(z)});case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,n.ok?(d(!1),x("Successfully Added!"),w("info"),d(!0)):(d(!1),x("ERROR ".concat(n.status,":  ").concat(s.message)),w("danger"),d(!0)),e.next=18;break;case 11:return e.next=13,fetch("".concat(C,"/items/").concat(c),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(JSON.parse(D))},body:JSON.stringify(z)});case 13:return r=e.sent,e.next=16,r.json();case 16:i=e.sent,r.ok?(_(!1),a(""),d(!1),x("Successfully Updated!"),w("info"),d(!0)):(d(!1),x("ERROR ".concat(r.status,":  ").concat(i.message)),w("danger"),d(!0));case 18:return e.next=20,W();case 20:for(j in o=Object(g.a)({},z))o[j]="";F(o);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(b.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(C,"/items"));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,G(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var c,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this record?")){e.next=21;break}return e.next=4,fetch("".concat(C,"/items/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(JSON.parse(D))}});case 4:return c=e.sent,e.next=7,c.json();case 7:if(n=e.sent,!c.ok){e.next=17;break}return e.next=11,W();case 11:d(!1),x("Successfully Deleted!"),w("info"),d(!0),e.next=21;break;case 17:d(!1),x("ERROR ".concat(c.status,":  ").concat(n.message)),w("danger"),d(!0);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var c,n,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(C,"/items/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(JSON.parse(D))}});case 2:return c=e.sent,e.next=5,c.json();case 5:n=e.sent,c.ok?(_(!0),a(t),s={},I.forEach((function(e){return s[e.c_name]=n[e.c_name]})),F(s)):(d(!1),x("ERROR ".concat(c.status,":  ").concat(n.message)),w("danger"),d(!0));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){A.state.hasOwnProperty("columns")&&B(A.state.columns),W()}),[]),Object(m.jsxs)(m.Fragment,{children:[o&&Object(m.jsx)(v.a,{variant:y,onClose:function(){return d(!1)},dismissible:!0,children:Object(m.jsx)("p",{children:h})}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsxs)("form",{className:"card card-body",children:[I.map((function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(k.a.Group,{children:Object(m.jsx)(k.a.Control,{type:"text",onChange:function(t){return F(Object(g.a)(Object(g.a)({},z),{},Object(S.a)({},e.c_name,t.target.value)))},value:z[e.c_name],placeholder:e.c_name})}),Object(m.jsx)("br",{})]})})),Object(m.jsx)(N.a,{variant:"primary",onClick:M,children:T?"Update":"Add"})]})}),Object(m.jsx)("div",{className:"col-md-6",children:Object(m.jsxs)("table",{className:"table table-striped",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[I.map((function(e){return Object(m.jsx)("th",{children:e.c_name})})),Object(m.jsx)("th",{children:"Operations"})]})}),Object(m.jsx)("tbody",{children:U.map((function(e){return Object(m.jsxs)("tr",{children:[I.map((function(t){return Object(m.jsx)("td",{children:e[t.c_name]})})),Object(m.jsxs)("td",{children:[Object(m.jsx)("button",{className:"btn btn-secondary btn-sm btn-block",onClick:function(t){return $(e.id)},children:"Edit"}),Object(m.jsx)("button",{className:"btn btn-danger btn-sm btn-block",onClick:function(t){return H(e.id)},children:"Delete"})]})]},e.id)}))})]})})]})]})},E=c(41),T=function(){var e,t,c=Object(E.a)(),a=c.register,s=c.handleSubmit,r=c.reset,d=c.formState.errors,u=Object(j.f)(),O=Object(n.useState)(!1),x=Object(i.a)(O,2),p=x[0],f=x[1],y=Object(n.useState)(""),w=Object(i.a)(y,2),S=w[0],C=w[1],R=function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var c,n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("".concat("http://localhost:5000","/login"),c);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?(h(a.access_token),r(),u("/",{state:{uname:t.username}})):(C("ERROR ".concat(n.status,":  ").concat(a.message)),f(!0));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"form",children:[p&&Object(m.jsx)(v.a,{variant:"danger",onClose:function(){return f(!1)},dismissible:!0,children:Object(m.jsx)("p",{children:S})}),Object(m.jsx)("h1",{children:"Login Page"}),Object(m.jsxs)("form",{children:[Object(m.jsxs)(k.a.Group,{children:[Object(m.jsx)(k.a.Label,{children:"Username"}),Object(m.jsx)(k.a.Control,Object(g.a)({type:"text",placeholder:"Your username"},a("username",{required:!0,maxLength:25})))]}),d.username&&Object(m.jsx)("p",{style:{color:"red"},children:Object(m.jsx)("small",{children:"Username is required"})}),"maxLength"===(null===(e=d.username)||void 0===e?void 0:e.type)&&Object(m.jsx)("p",{style:{color:"red"},children:Object(m.jsx)("small",{children:"Max characters should be 25"})}),Object(m.jsx)("br",{}),Object(m.jsxs)(k.a.Group,{children:[Object(m.jsx)(k.a.Label,{children:"Password"}),Object(m.jsx)(k.a.Control,Object(g.a)({type:"password",placeholder:"Your password"},a("password",{required:!0,minLength:8}))),d.username&&Object(m.jsx)("p",{style:{color:"red"},children:Object(m.jsx)("small",{children:"Password is required"})}),"minLength"===(null===(t=d.password)||void 0===t?void 0:t.type)&&Object(m.jsx)("p",{style:{color:"red"},children:Object(m.jsx)("small",{children:"Password should be more than 8 characters"})})]}),Object(m.jsx)("br",{}),Object(m.jsx)(k.a.Group,{children:Object(m.jsx)(N.a,{as:"sub",variant:"primary",onClick:s(R),children:"Login"})}),Object(m.jsx)("br",{}),Object(m.jsx)(k.a.Group,{children:Object(m.jsxs)("small",{children:["Do not have an account? ",Object(m.jsx)(o.b,{to:"/signup",children:"Create One"})]})})]})]})})},_=function(){var e,t,c,a,s=Object(E.a)(),r=s.register,j=s.handleSubmit,d=s.reset,u=s.formState.errors,O=Object(n.useState)(!1),h=Object(i.a)(O,2),x=h[0],p=h[1],f=Object(n.useState)(""),y=Object(i.a)(f,2),w=y[0],S=y[1],C=Object(n.useState)(!1),R=Object(i.a)(C,2),T=R[0],_=R[1],A=Object(n.useState)(""),P=Object(i.a)(A,2),L=P[0],U=P[1],G=function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var c,n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password!==t.confirmPassword){e.next=11;break}return c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:t.username,email:t.email,password:t.password})},e.next=4,fetch("".concat("http://localhost:5000","/signup"),c);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,n.ok?(S(a.message),p(!0),d()):(p(!1),U("ERROR ".concat(n.status,":  ").concat(a.message)),_(!0)),e.next=14;break;case 11:p(!1),U("Passwords do not match"),_(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"form",children:[x&&Object(m.jsx)(v.a,{variant:"success",onClose:function(){p(!1)},dismissible:!0,children:Object(m.jsx)("p",{children:w})}),T&&Object(m.jsx)(v.a,{variant:"danger",onClose:function(){return _(!1)},dismissible:!0,children:Object(m.jsx)("p",{children:L})}),Object(m.jsx)("h1",{children:"Sign Up Page"}),Object(m.jsxs)("form",{onSubmit:j(G),children:[Object(m.jsxs)(k.a.Group,{children:[Object(m.jsx)(k.a.Label,{children:"Username"}),Object(m.jsx)(k.a.Control,Object(g.a)({type:"text",placeholder:"Your username"},r("username",{required:!0,maxLength:25}))),u.username&&Object(m.jsx)("small",{style:{color:"red"},children:"Username is required"}),"maxLength"===(null===(e=u.username)||void 0===e?void 0:e.type)&&Object(m.jsx)("p",{style:{color:"red"},children:Object(m.jsx)("small",{children:"Max characters should be 25 "})})]}),Object(m.jsx)("br",{}),Object(m.jsxs)(k.a.Group,{children:[Object(m.jsx)(k.a.Label,{children:"Email"}),Object(m.jsx)(k.a.Control,Object(g.a)({type:"email",placeholder:"Your email"},r("email",{required:!0,maxLength:80}))),u.email&&Object(m.jsx)("p",{style:{color:"red"},children:Object(m.jsx)("small",{children:"Email is required"})}),"maxLength"===(null===(t=u.email)||void 0===t?void 0:t.type)&&Object(m.jsx)("p",{style:{color:"red"},children:Object(m.jsx)("small",{children:"Max characters should be 80"})})]}),Object(m.jsx)("br",{}),Object(m.jsxs)(k.a.Group,{children:[Object(m.jsx)(k.a.Label,{children:"Password"}),Object(m.jsx)(k.a.Control,Object(g.a)({type:"password",placeholder:"Your password"},r("password",{required:!0,minLength:8}))),u.password&&Object(m.jsx)("p",{style:{color:"red"},children:Object(m.jsx)("small",{children:"Password is required"})}),"minLength"===(null===(c=u.password)||void 0===c?void 0:c.type)&&Object(m.jsx)("p",{style:{color:"red"},children:Object(m.jsx)("small",{children:"Min characters should be 8"})})]}),Object(m.jsx)("br",{}),Object(m.jsxs)(k.a.Group,{children:[Object(m.jsx)(k.a.Label,{children:"Confirm Password"}),Object(m.jsx)(k.a.Control,Object(g.a)({type:"password",placeholder:"Your password"},r("confirmPassword",{required:!0,minLength:8}))),u.confirmPassword&&Object(m.jsx)("p",{style:{color:"red"},children:Object(m.jsx)("small",{children:"Confirm Password is required"})}),"minLength"===(null===(a=u.confirmPassword)||void 0===a?void 0:a.type)&&Object(m.jsx)("p",{style:{color:"red"},children:Object(m.jsx)("small",{children:"Min characters should be 8"})})]}),Object(m.jsx)("br",{}),Object(m.jsx)(k.a.Group,{children:Object(m.jsx)(N.a,{type:"submit",variant:"primary",children:"SignUp"})}),Object(m.jsx)("br",{}),Object(m.jsx)(k.a.Group,{children:Object(m.jsxs)("small",{children:["Already have an account, ",Object(m.jsx)(o.b,{to:"/login",children:"Log In"})]})}),Object(m.jsx)("br",{})]})]})})},A=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),o=r[0],j=r[1],d=Object(n.useState)(""),u=Object(i.a)(d,2),O=u[0],h=u[1],x=localStorage.getItem("REACT_TOKEN_AUTH_KEY"),p=function(){var e=Object(b.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/logs"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(JSON.parse(x))}});case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,t.ok?a(c):(h("ERROR ".concat(t.status,":  ").concat(c.message)),j(!0));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p()}),[]),Object(m.jsxs)(m.Fragment,{children:[o&&Object(m.jsx)(v.a,{variant:"danger",onClose:function(){return j(!1)},dismissible:!0,children:Object(m.jsx)("p",{children:O})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("table",{className:"table table-striped",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{style:{fontWeight:"bold"},children:[Object(m.jsx)("th",{children:"User Name"}),Object(m.jsx)("th",{children:"Timestamp"}),Object(m.jsx)("th",{children:"Database"}),Object(m.jsx)("th",{children:"Table Name"}),Object(m.jsx)("th",{children:"Operation"}),Object(m.jsx)("th",{children:"Operation Object ID"}),Object(m.jsx)("th",{children:"Request Body"})]})}),Object(m.jsx)("tbody",{children:c.map((function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.username}),Object(m.jsx)("td",{children:e.timestamp}),Object(m.jsx)("td",{children:e.db_uri}),Object(m.jsx)("td",{children:e.tb_name}),Object(m.jsx)("td",{children:e.operation}),Object(m.jsx)("td",{children:e.ops_obj_id}),Object(m.jsx)("td",{children:e.request_body})]},e.id)}))})]})})})]})},P=c(81),L=c(57),U=c(29),G="http://localhost:5000",J=function(e){var t=e.showItChange,c=e.columnsChange,a=Object(n.useState)(""),s=Object(i.a)(a,2),r=s[0],o=s[1],d=Object(n.useState)([]),u=Object(i.a)(d,2),O=u[0],h=u[1],x=Object(n.useState)([]),p=Object(i.a)(x,2),f=p[0],y=p[1],w=Object(n.useState)({}),C=Object(i.a)(w,2),R=C[0],E=C[1],T=Object(n.useState)(!1),_=Object(i.a)(T,2),A=_[0],J=_[1],q=Object(n.useState)(!1),I=Object(i.a)(q,2),B=I[0],D=I[1],Y=Object(n.useState)("Table Name"),K=Object(i.a)(Y,2),z=K[0],F=K[1],M=Object(n.useState)(!1),W=Object(i.a)(M,2),H=W[0],$=W[1],Q=Object(n.useState)(""),V=Object(i.a)(Q,2),X=V[0],Z=V[1],ee=Object(j.f)(),te=function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var c,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat(G,"/dbset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uri:r})});case 3:return c=e.sent,e.next=6,c.json();case 6:n=e.sent,c.ok?(h(n),J(!0)):(Z("ERROR ".concat(c.status,":  ").concat(n.message)),$(!0));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(Object(l.a)().mark((function e(t){var c,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(t),e.next=3,fetch("".concat(G,"/tbset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({table_name:t})});case 3:return c=e.sent,e.next=6,c.json();case 6:n=e.sent,c.ok?(y(n),D(!0)):(Z("ERROR ".concat(c.status,":  ").concat(n.message)),$(!0));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e,t){return function(){E(Object(g.a)(Object(g.a)({},R),{},Object(S.a)({},t,R[t]?null:e)))}};return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{children:[H&&Object(m.jsx)(v.a,{variant:"danger",onClose:function(){return $(!1)},dismissible:!0,children:Object(m.jsx)("p",{children:X})}),Object(m.jsx)("h1",{children:"Database Setting"}),Object(m.jsx)("br",{}),Object(m.jsxs)(k.a,{children:[Object(m.jsxs)(L.a,{className:"align-items-center",children:[Object(m.jsx)(U.a,{xs:"auto",children:Object(m.jsx)(k.a.Label,{children:"URI:"})}),Object(m.jsx)(U.a,{xs:"auto",children:Object(m.jsx)(k.a.Control,{type:"text",placeholder:"sqlite:///myweb.db",onChange:function(e){return o(e.target.value)},value:r})}),Object(m.jsx)(U.a,{xs:"auto",children:Object(m.jsx)(N.a,{variant:"primary",onClick:te,children:"Connect"})})]}),Object(m.jsx)("br",{}),A&&Object(m.jsx)(k.a.Group,{children:Object(m.jsxs)(P.a,{onSelect:ce,children:[Object(m.jsx)(P.a.Toggle,{variant:"secondary",id:"dropdown-basic",children:z}),Object(m.jsx)(P.a.Menu,{children:O.map((function(e){return Object(m.jsx)(P.a.Item,{eventKey:e,children:e})}))})]})}),B&&Object(m.jsxs)(k.a.Group,{children:[f.map((function(e,t){return Object(m.jsxs)("tr",{style:{display:"flex",width:"150px"},children:[Object(m.jsx)("input",{onChange:ne(e,t),checked:R[t],style:{margin:"20px"},type:"checkbox"}),Object(m.jsx)("td",{style:{margin:"20px"},children:e.c_name}),Object(m.jsx)("td",{style:{margin:"20px"},children:e.c_type})]},t)})),Object(m.jsx)("br",{}),Object(m.jsx)(N.a,{variant:"primary",onClick:function(e){var n=Object.values(R).filter((function(e){return null!==e}));t(!0),c(n),ee("/it",{state:{columns:n}})},children:"Next"})]})]})]})})};var q=function(){var e=a.a.useState(!1),t=Object(i.a)(e,2),c=t[0],n=t[1],s=a.a.useState([]),r=Object(i.a)(s,2),l=r[0],b=r[1];return Object(m.jsxs)(o.a,{children:[Object(m.jsx)(f,{showIt:c,columns:l}),Object(m.jsx)("div",{className:"container p-4",children:Object(m.jsxs)(j.c,{children:[Object(m.jsx)(j.a,{path:"/perms",element:Object(m.jsx)(w,{})}),Object(m.jsx)(j.a,{path:"/login",element:Object(m.jsx)(T,{})}),Object(m.jsx)(j.a,{path:"/signup",element:Object(m.jsx)(_,{})}),Object(m.jsx)(j.a,{path:"/it",element:Object(m.jsx)(R,{})}),Object(m.jsx)(j.a,{path:"/",element:Object(m.jsx)(J,{showItChange:n,columnsChange:b})}),Object(m.jsx)(j.a,{path:"/opslog",element:Object(m.jsx)(A,{})})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(q,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.76333132.chunk.js.map